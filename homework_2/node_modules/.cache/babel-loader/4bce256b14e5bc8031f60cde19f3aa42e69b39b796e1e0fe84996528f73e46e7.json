{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\79991\\\\Downloads\\\\www-2sem-main\\\\homework_2\\\\src\\\\pages\\\\main\\\\index.jsx\",\n  _s = $RefreshSig$();\nimport '../sources/main.css';\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Card from './components/Card.jsx';\nimport Seacrh from './components/Search.jsx';\nimport ErrorMessage from './components/ErrorMessage.jsx';\nimport loadingGif from '../sources/loading.gif';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Pokemons = ({\n  allPokemons,\n  pokemonsCount\n}) => {\n  _s();\n  const [data, setData] = useState([]);\n  const [inputText, setInputText] = useState('');\n  const [originalData, setOriginalData] = useState([]);\n  const [searchResultFound, setSearchResultFound] = useState(true);\n  const [offset, setOffset] = useState(0);\n  const [fetching, setFetching] = useState(true);\n  useEffect(() => {\n    document.addEventListener('scroll', handleScroll);\n    return function () {\n      document.removeEventListener('scroll', handleScroll);\n    };\n  });\n  useEffect(() => {\n    if (fetching) {\n      axios.get(`https://pokeapi.co/api/v2/pokemon?offset=${offset}&limit=50`).then(response => {\n        setData(prevData => [...prevData, ...response.data.results]);\n        setOriginalData(prevData => [...prevData, ...response.data.results]);\n        setOffset(prevOffset => prevOffset + 50);\n      }).catch(error => {\n        console.error('Error fetching data:', error);\n      }).finally(() => setFetching(false));\n    }\n  }, [fetching, offset]);\n  const handleChange = event => {\n    const text = event.target.value;\n    setInputText(text);\n    const filteredData = originalData.filter(pokemon => pokemon.name.includes(text.toLowerCase()));\n    if (filteredData.length > 0) {\n      setData(filteredData);\n      setSearchResultFound(filteredData.length > 0);\n    }\n  };\n  const handleScroll = event => {\n    if (event.target.documentElement.scrollHeight - (event.target.documentElement.scrollTop + window.innerHeight) < 600 && data.length < pokemonsCount) {\n      setFetching(true);\n    }\n  };\n  const handleSubmit = () => {\n    const filterData = allPokemons.filter(pokemon => pokemon.name.includes(inputText.toLowerCase()));\n    setData(filterData);\n    setSearchResultFound(filterData.length > 0);\n  };\n  if (!data) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        alt: \"loading\",\n        src: loadingGif\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Seacrh, {\n        inputText: inputText,\n        handleChange: handleChange,\n        handleSubmit: handleSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), searchResultFound ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-list\",\n        children: data.map(pokemon => /*#__PURE__*/_jsxDEV(Card, {\n          url: pokemon.url\n        }, pokemon.url, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 37\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(ErrorMessage, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true);\n  }\n};\n_s(Pokemons, \"bC5mXrklbEC7Xr3FvBSYmZg5CQw=\");\n_c = Pokemons;\nexport default Pokemons;\nvar _c;\n$RefreshReg$(_c, \"Pokemons\");","map":{"version":3,"names":["React","useState","useEffect","axios","Card","Seacrh","ErrorMessage","loadingGif","jsxDEV","_jsxDEV","Fragment","_Fragment","Pokemons","allPokemons","pokemonsCount","_s","data","setData","inputText","setInputText","originalData","setOriginalData","searchResultFound","setSearchResultFound","offset","setOffset","fetching","setFetching","document","addEventListener","handleScroll","removeEventListener","get","then","response","prevData","results","prevOffset","catch","error","console","finally","handleChange","event","text","target","value","filteredData","filter","pokemon","name","includes","toLowerCase","length","documentElement","scrollHeight","scrollTop","window","innerHeight","handleSubmit","filterData","className","children","alt","src","fileName","_jsxFileName","lineNumber","columnNumber","map","url","_c","$RefreshReg$"],"sources":["C:/Users/79991/Downloads/www-2sem-main/homework_2/src/pages/main/index.jsx"],"sourcesContent":["import '../sources/main.css';\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Card from './components/Card.jsx'\nimport Seacrh from './components/Search.jsx';\nimport ErrorMessage from './components/ErrorMessage.jsx';\nimport loadingGif from '../sources/loading.gif';\n\nconst Pokemons = ({ allPokemons, pokemonsCount }) => {\n  const [data, setData] = useState([]);\n  const [inputText, setInputText] = useState('');\n  const [originalData, setOriginalData] = useState([])\n  const [searchResultFound, setSearchResultFound] = useState(true);\n  const [offset, setOffset] = useState(0)\n  const [fetching, setFetching] = useState(true)\n  \n  useEffect (() => {\n    document.addEventListener('scroll', handleScroll)\n    return function () {\n      document.removeEventListener('scroll', handleScroll)\n    }\n  });\n\n  useEffect(() => {\n    if(fetching){\n      axios.get(`https://pokeapi.co/api/v2/pokemon?offset=${offset}&limit=50`)\n      .then(response => {\n        setData(prevData => [...prevData, ...response.data.results]);\n        setOriginalData(prevData => [...prevData, ...response.data.results])\n        setOffset(prevOffset => prevOffset + 50);\n      })\n      .catch(error => {\n          console.error('Error fetching data:', error);\n      })\n        .finally(() => setFetching(false))\n    }\n  }, [fetching, offset]);\n\n  const handleChange = (event) => {\n    const text = event.target.value;\n    setInputText(text);\n    const filteredData = originalData.filter((pokemon) => pokemon.name.includes(text.toLowerCase()));\n    if(filteredData.length > 0){\n      setData(filteredData);\n      setSearchResultFound(filteredData.length > 0);\n    }\n  };\n\n  const handleScroll = (event) => {\n    if(event.target.documentElement.scrollHeight - (event.target.documentElement.scrollTop + window.innerHeight) < 600 && data.length < pokemonsCount){\n      setFetching(true)\n    }\n  }\n\n  const handleSubmit = () => {\n    const filterData = allPokemons.filter((pokemon) => pokemon.name.includes(inputText.toLowerCase()));\n    setData(filterData);\n    setSearchResultFound(filterData.length > 0);\n  };\n\n  if(!data){\n    return (\n      <div className='loading'>\n        <img alt='loading' src={loadingGif} />\n      </div>\n    );\n  }\n  else{\n    return (\n      <>\n        <Seacrh inputText={inputText} handleChange={handleChange} handleSubmit={handleSubmit} />\n        {searchResultFound ? (\n          <div className='card-list'>\n            {\n              data.map((pokemon) => <Card key={pokemon.url} url={pokemon.url} />)\n            }\n          </div>\n        ) : (\n          <ErrorMessage />\n        )}\n      </>\n    );\n  }\n  \n}\n\nexport default Pokemons;\n\n\n"],"mappings":";;AAAA,OAAO,qBAAqB;AAC5B,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,IAAI,MAAM,uBAAuB;AACxC,OAAOC,MAAM,MAAM,yBAAyB;AAC5C,OAAOC,YAAY,MAAM,+BAA+B;AACxD,OAAOC,UAAU,MAAM,wBAAwB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAEhD,MAAMC,QAAQ,GAAGA,CAAC;EAAEC,WAAW;EAAEC;AAAc,CAAC,KAAK;EAAAC,EAAA;EACnD,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACiB,SAAS,EAAEC,YAAY,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACmB,YAAY,EAAEC,eAAe,CAAC,GAAGpB,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACqB,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGtB,QAAQ,CAAC,IAAI,CAAC;EAChE,MAAM,CAACuB,MAAM,EAAEC,SAAS,CAAC,GAAGxB,QAAQ,CAAC,CAAC,CAAC;EACvC,MAAM,CAACyB,QAAQ,EAAEC,WAAW,CAAC,GAAG1B,QAAQ,CAAC,IAAI,CAAC;EAE9CC,SAAS,CAAE,MAAM;IACf0B,QAAQ,CAACC,gBAAgB,CAAC,QAAQ,EAAEC,YAAY,CAAC;IACjD,OAAO,YAAY;MACjBF,QAAQ,CAACG,mBAAmB,CAAC,QAAQ,EAAED,YAAY,CAAC;IACtD,CAAC;EACH,CAAC,CAAC;EAEF5B,SAAS,CAAC,MAAM;IACd,IAAGwB,QAAQ,EAAC;MACVvB,KAAK,CAAC6B,GAAG,CAAE,4CAA2CR,MAAO,WAAU,CAAC,CACvES,IAAI,CAACC,QAAQ,IAAI;QAChBjB,OAAO,CAACkB,QAAQ,IAAI,CAAC,GAAGA,QAAQ,EAAE,GAAGD,QAAQ,CAAClB,IAAI,CAACoB,OAAO,CAAC,CAAC;QAC5Df,eAAe,CAACc,QAAQ,IAAI,CAAC,GAAGA,QAAQ,EAAE,GAAGD,QAAQ,CAAClB,IAAI,CAACoB,OAAO,CAAC,CAAC;QACpEX,SAAS,CAACY,UAAU,IAAIA,UAAU,GAAG,EAAE,CAAC;MAC1C,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,IAAI;QACZC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAChD,CAAC,CAAC,CACCE,OAAO,CAAC,MAAMd,WAAW,CAAC,KAAK,CAAC,CAAC;IACtC;EACF,CAAC,EAAE,CAACD,QAAQ,EAAEF,MAAM,CAAC,CAAC;EAEtB,MAAMkB,YAAY,GAAIC,KAAK,IAAK;IAC9B,MAAMC,IAAI,GAAGD,KAAK,CAACE,MAAM,CAACC,KAAK;IAC/B3B,YAAY,CAACyB,IAAI,CAAC;IAClB,MAAMG,YAAY,GAAG3B,YAAY,CAAC4B,MAAM,CAAEC,OAAO,IAAKA,OAAO,CAACC,IAAI,CAACC,QAAQ,CAACP,IAAI,CAACQ,WAAW,CAAC,CAAC,CAAC,CAAC;IAChG,IAAGL,YAAY,CAACM,MAAM,GAAG,CAAC,EAAC;MACzBpC,OAAO,CAAC8B,YAAY,CAAC;MACrBxB,oBAAoB,CAACwB,YAAY,CAACM,MAAM,GAAG,CAAC,CAAC;IAC/C;EACF,CAAC;EAED,MAAMvB,YAAY,GAAIa,KAAK,IAAK;IAC9B,IAAGA,KAAK,CAACE,MAAM,CAACS,eAAe,CAACC,YAAY,IAAIZ,KAAK,CAACE,MAAM,CAACS,eAAe,CAACE,SAAS,GAAGC,MAAM,CAACC,WAAW,CAAC,GAAG,GAAG,IAAI1C,IAAI,CAACqC,MAAM,GAAGvC,aAAa,EAAC;MAChJa,WAAW,CAAC,IAAI,CAAC;IACnB;EACF,CAAC;EAED,MAAMgC,YAAY,GAAGA,CAAA,KAAM;IACzB,MAAMC,UAAU,GAAG/C,WAAW,CAACmC,MAAM,CAAEC,OAAO,IAAKA,OAAO,CAACC,IAAI,CAACC,QAAQ,CAACjC,SAAS,CAACkC,WAAW,CAAC,CAAC,CAAC,CAAC;IAClGnC,OAAO,CAAC2C,UAAU,CAAC;IACnBrC,oBAAoB,CAACqC,UAAU,CAACP,MAAM,GAAG,CAAC,CAAC;EAC7C,CAAC;EAED,IAAG,CAACrC,IAAI,EAAC;IACP,oBACEP,OAAA;MAAKoD,SAAS,EAAC,SAAS;MAAAC,QAAA,eACtBrD,OAAA;QAAKsD,GAAG,EAAC,SAAS;QAACC,GAAG,EAAEzD;MAAW;QAAA0D,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnC,CAAC;EAEV,CAAC,MACG;IACF,oBACE3D,OAAA,CAAAE,SAAA;MAAAmD,QAAA,gBACErD,OAAA,CAACJ,MAAM;QAACa,SAAS,EAAEA,SAAU;QAACwB,YAAY,EAAEA,YAAa;QAACiB,YAAY,EAAEA;MAAa;QAAAM,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,EACvF9C,iBAAiB,gBAChBb,OAAA;QAAKoD,SAAS,EAAC,WAAW;QAAAC,QAAA,EAEtB9C,IAAI,CAACqD,GAAG,CAAEpB,OAAO,iBAAKxC,OAAA,CAACL,IAAI;UAAmBkE,GAAG,EAAErB,OAAO,CAACqB;QAAI,GAA9BrB,OAAO,CAACqB,GAAG;UAAAL,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAqB,CAAC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAElE,CAAC,gBAEN3D,OAAA,CAACH,YAAY;QAAA2D,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAChB;IAAA,eACD,CAAC;EAEP;AAEF,CAAC;AAAArD,EAAA,CA5EKH,QAAQ;AAAA2D,EAAA,GAAR3D,QAAQ;AA8Ed,eAAeA,QAAQ;AAAC,IAAA2D,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}